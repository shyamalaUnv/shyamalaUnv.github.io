 <!DOCTYPE html>
<html>
<head>
<link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css'>
<link rel='stylesheet' href='https://cdn.form.io/formiojs/formio.full.min.css'>
<script src="https://cdn.form.io/formiojs/formio.full.js"></script>

<!-- <link rel="stylesheet" href="https://cdn.form.io/formiojs/formio.full.min.css"> -->
<!-- <script src="https://cdn.form.io/formiojs/formio.full.js"></script> -->
<!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> -->
<!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"> -->
<!-- <link rel="stylesheet" href="https://cdn.form.io/formiojs/formio.full.min.css"> -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- <link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css'> -->
    <!-- <link rel='stylesheet' href='https://cdn.form.io/formiojs/formio.full.min.css'> -->



<div id="formio"></div>

<!-- <script src="https://cdn.form.io/formiojs/formio.full.js"></script> -->
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/downloadjs/1.4.8/download.js" integrity="sha512-mxCAjvjp0jvMdGRIEvAHOCGL6BOucqWpTBXwchElsPKNw7BEegHviDHPnYrOrzgzBiw3GD/Q1ibpA5nlFPYDMw==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/native-promise-only/0.8.1/npo.js" integrity="sha512-3jgJm59psJUhwwOYcv45UOT7MJ41Ol/Z/tzlQLK5BPrVz5mAbPrqZQyASfYgfGuaYRIZDX1EJxbJE5+V2+AG7w==" crossorigin="anonymous"></script> -->

<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/choices.js/1.1.6/choices.min.js" integrity="sha512-7PQ3MLNFhvDn/IQy12+1+jKcc1A/Yx4KuL62Bn6+ztkiitRVW1T/7ikAh675pOs3I+8hyXuRknDpTteeptw4Bw==" crossorigin="anonymous"></script> -->



<!-- <script type="text/javascript" type="module" src="./select-barcode.js"></script> -->
<!-- <script type="text/javascript" type="module" src="./ChoicesWrapper.js"></script> -->

<!-- <script src="./lodash.js"></script> -->
<!-- <script type="text/javascript" src="./file.js"></script>
<script type="text/javascript" src="./fileProcessor.js"></script> -->
<!-- <script src="./choices.js"></script> -->
<link rel="stylesheet" href="./recogito/recogito.min.css">

<script src="./recogito/recogito.min.js"></script>
<!-- <script src="./recogito/recogito-comments-mention.min.js"></script> -->


<script>

  $(document).ready(function() {
    
      // alert("document ready occurred!");
      // $('.choices__list--single').append("<div class='barcode-icon'><i class='fa fa-barcode'></i></div>")


  //      $(".barcode-icon").click(function(event){
  //       alert("barcode clicked");
  //         let idArr = event.currentTarget.offsetParent.firstElementChild.id.split('-');
  //         console.log("id = "+idArr[0])
  //         if(idArr[1] == 'select'){
  //             let eventCustom = new CustomEvent('openBarcode', {
  //                       detail: {
  //                           // compObj: componentObj,
  //                           controlId:idArr[0]
  //                       }
  //                   });
  //                   document.dispatchEvent(eventCustom);
  //         }
   
  // });

       // $('body').click(function(event) {
    
      
    
    // if($(event.target).is('#l1')) {
    //    log.html(event.target.id + ' was clicked.');
    // } else if ($(event.target).is('#l2')) {
    //    log.html(event.target.id + ' was clicked.');        
    // } else if ($(event.target).is('#l3')) {
    //    log.html(event.target.id + ' was clicked.');
    // } else if ($(event.target).is('#l4')) {
    //    log.html(event.target.id + ' was clicked.');
    // } else {
    //    log.html('');    
    // }
// });
});



  
</script>


<script type="text/javascript">
  Formio.icons = 'fontawesome';
//   Formio.createForm(document.getElementById('formio'), 
//   {
//     "components": [
//       {
//         "label": "Select",
//         "widget": "html5",
//         "tableView": true,
//         "data": {
//           "values": [
//             {
//               "label": "test",
//               "value": "test"
//             },
//             {
//               "label": "demo",
//               "value": "demo"
//             }
//           ]
//         },
//         "key": "select",
//         "type": "select",
//         "input": true,
//         //  "defaultValue": "test"
//       },
//         {
//         "label": "Text Field",
//         "tableView": true,
//         "key": "textField",
//         "type": "textfield",
//         "input": true
//       },
//       {
//         "type": "button",
//         "label": "Submit",
//         "key": "submit",
//         "disableOnInvalid": true,
//         "input": true,
//         "tableView": false
//       }
//     ]
   

// },{renderMode: "html", flatten: true, readOnly: true }).then(form => { 
//   form.submission = { data: { "select": "demo", "textField": "1234", "submit": false } };
// form.formReady.then(() => {
//   console.log("form is ready")
//      });   
// });

  Formio.createForm(document.getElementById('formio'),
    {
       "components":[
    {
      "label": "Text Field",
      "tableView": true,
      "validate": {
        "required": true
      },
      "key": "textField",
      "type": "textfield",
      "input": true,
      "hidden": false
    },
    {
      "type": "barcode",
      "label": "Barcode",
      "tableView": true,
      "publishEvents": false,
      "key": "textfield",
      "input": true,
      "hidden": false
    },
    {
      "label": "Signature",
      "tableView": false,
      "key": "signature",
      "type": "signature",
      "input": true,
      "hidden": false
    },
    {
      "type": "barcodeselect",
      "label": "Select Barcode",
      "tableView": true,
      "data": {
        "values": [
          {
            "label": "1",
            "value": "1"
          },
          {
            "label": "2",
            "value": "2"
          }
        ]
      },
      "selectThreshold": 0.3,
      "barcodeDataField": true,
      "publishEvents": false,
      "key": "selectBarcode",
      "indexeddb": {
        "filter": {}
      },
      "input": true,
      "dropdownOpened": false,
      "hidden": false
    },
    {
      "input": true,
      "tableView": false,
      "label": "Submit",
      "key": "submit",
      "clearOnHide": false,
      "spellcheck": false,
      "type": "button",
      "rows": 0,
      "wysiwyg": false,
      "lockKey": true,
      "hidden": false
    }
  ]
    }, { renderMode: "html", flatten: true, readOnly: true }).then(form => {
      form.submission = { data: { "select": "demo", "textField": "1234", "submit": false } };
      form.formReady.then(() => {
        console.log("form is ready")
      });
      let users = [{
        id: "shyamala@unvired.com",
        name: "Shyamala"
      }];
      let vobArr = ['To Be Fixed', 'Clarification', 'Info'];
      let annotateJson = [];
      // r = Recogito.init({
      //   // content: document.getElementById('annotateForm'),
      //   content: document.getElementById('formio'),

      //   // readOnly: readMode,
      //   readOnly: true,
      //   // locale: localStorage.getItem('language'),
      //   locale: "en",
      //   widgets: [
      //     // { widget: recogito.CommentsMention, userSuggestions: users },
      //     { widget: recogito.CommentsMention, userSuggestions: users },
      //     { widget: 'TAG', vocabulary: vobArr },
      //   ],
      //   mode: 'html'
      // });

      // r.setAuthInfo({
      //   // id: window.form.email,
      //   // displayName: window.form.firstName
      //   id: "shyamala@unvired.com",
      //   displayName: "Shyamala"
      // });

      // // Add an event handler  
      // r.on('createAnnotation', function (annotation) {

      // });

      // r.on('updateAnnotation', function (annotation) {

      // });

      // // Select annotate listener to make a css change for mobile view
      // r.on('selectAnnotation', function (annotation) {
      //   // create a custom event for a mobile to set a custom css
      //   let eventCustom = new CustomEvent('annotateCss', { detail: true });
      //   document.dispatchEvent(eventCustom);
      // })

      var r = Recogito.init({
        content: document.getElementById('formio'),
        widgets: [
          { widget: 'COMMENT'},
          { widget: 'TAG', vocabulary: vobArr }
        ]
      });

       r.setAuthInfo({
        // id: window.form.email,
        // displayName: window.form.firstName
        id: "shyamala@unvired.com",
        displayName: "Shyamala"
      });

      form.formReady.then(() => {
        setTimeout(function () {
          r.setAnnotations(annotateJson);
        }, 500);
        let customEve = new CustomEvent('laodAnnotationComplete', {});
        document.dispatchEvent(customEve);
      });

    });
</script>
  <!-- <script type="text/javascript">
    (function () {

      console.log(recogito.CommentsMention);

      let users = [
        {
          id: 'srinidhi@example.com',
          name: 'Srinidhi'
        },
        {
          id: '12345',
          name: 'Aparna'
        }
      ]

      var r = Recogito.init({
        content: document.getElementById('formio'),
        widgets: [
          { widget: recogito.CommentsMention, userSuggestions: users }
        ]
      });
    })();
  </script> -->
<style>
  html,
  body {
    padding: 10px 20px;
    margin: 0;
  }

  h1 {
    font-size: 22px;
    margin-top: 30px;
    margin-bottom: 20px;
  }

  #outer-container {
    position: relative;
  }

  #content {
    max-width: 920px;
    font-family: 'Lato', sans-serif;
    font-size: 17px;
    line-height: 27px;
  }
</style>
  </head>
 <body>
</body>

</html>
